<!DOCTYPE html>
<!--
	 Title: HTML5 Canvas Background Generator
	 Author: Antti Lamminsalo
	 Description: 
	 A background generating app I made for fun on my spare time. 
	 Uses stackblur.js for depth-effect between layers.
	 Source on: https://github.com/alamminsalo/html5gen -->
<html>
<head>
    <script type="text/javascript" src="js/tools.js"></script>
    <script type="text/javascript" src="js/interface.js"></script>
    <script type="text/javascript" src="js/gen.js"></script>
    <script type="text/javascript" src="js/stackblur.js"></script>
    <script type="text/javascript" src="js/presets.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div id="wrap">
    <span id="panel">
        <div id="genwrap">
            <div id="generate" class="button">Generate!</div>
        </div>

        <div class="container">
            <h3 class="controlbar button">Presets</h3>

            <div class="controls">
                <p>
					<select id="preset" onchange="onPresetSelected()">
						<option value="circles">Smooth Circles</option><!--Default settings-->
						<option value="flatc">Flat Circles</option>
						<option value="flats">Minimalistic Squares</option>
						<option value="ambient">Deep Ambient</option>
						<option value="hex">Colorful Hex</option>
					</select>
				</p>
            </div>

        </div>

        <div class="container">
            <h3 class="controlbar button">Filters</h3>

            <div class="controls">

				<p title="Amount of blur between layers">Blur: <output></output><br/><input type="range" id="blurAmt" max="128" oninput="updateInterfaceValue(this)"/></p>
                <p title="Also blur out top layer"><input type="checkbox" id="blurTop"/>Blur top layer</p>

				<p title="Amount of noise">Noise: <output></output><br/><input type="range" id="noiseAmt" max="100" oninput="updateInterfaceValue(this)"/>
                </p>
            </div>

        </div>

        <div class="container">
            <h3 class="controlbar button">Objects & layers</h3>

            <div class="controls">
                <p><input type="checkbox" id="sqOn"/>Squares</p>
                <p><input type="checkbox" id="triOn"/>Triangles</p>
                <p><input type="checkbox" id="ciOn"/>Circles</p>
                <p><input type="checkbox" id="hexOn"/>Hexagons</p>

				<p title="Align objects to patterns"><input type="checkbox" id="align"/><b>Pattern align</b></p>

				<p title="Object size. Depth effect and some randomization affects this value">Object size: <output></output><br/><input type="range" id="sizeVal" oninput="updateInterfaceValue(this)" min="1" max="1000"/>
                </p>

				<p title="Objects in layer">Per layer: <output></output><br/><input type="range" min="0" id="obAmt" oninput="updateInterfaceValue(this)"/>
                </p>

				<p>Layers: <output></output><br/><input type="range" id="layerAmt" min="1" oninput="updateInterfaceValue(this)"/>
                </p>

				<p title="Effect of depth between layers. Affects object size per layer.">Depth: <output></output><br/><input type="range" id="depth" oninput="updateInterfaceValue(this)" max="10"/>
                </p>
            </div>

        </div>

        <div class="container">
            <h3 class="controlbar button">Color options</h3>

            <div class="controls hidden">
                <p>Root color<input type="color" class="right" id="colorInput"/></p>

                <p title="Randomise background color each generation time"><input type="checkbox" id="randColorOn"/>Randomize</p>
                <p title="Use only one color per layer. Note: Doesn't work with 'Pattern align' selected"><input type="checkbox" id="colorPerLayer"/>One per layer</p>
                <p title="Evolve first color of the layer, rather than using always root color"><input type="checkbox" id="cmut"/>Recursive</p>

				<p title="Color variation amount">Change amount: <output></output><br/><input type="range" id="colorCh" min="-255" max="255"
                                            oninput="updateInterfaceValue(this)"/>
                </p>

				<p title="Opacity level. 255 is fully opaque, while 0 being fully translucent">Alpha: <output></output><br/><input type="range" id="alpha" min="0" max="255"
                                            oninput="updateInterfaceValue(this)"/>
				</p>

                <p title="Evens out color variance around root color"><input type="checkbox" id="balanceColor"/>Even colors</p>
            </div>

        </div>

        <div class="container">
            <h3 class="controlbar button">Shadows</h3>

            <div class="controls hidden">
                <p><input type="checkbox" id="shOn"/>Draw shadows</p>

                <p>Color<input type="color" id="shCol" class="right"/></p>

				<p>Radius: <output></output><br/><input type="range" id="shRad" min="1" oninput="updateInterfaceValue(this)"/>
                </p>

                <p>OffsetX<input type="input" id="shX" class="input right"/></p>

                <p>OffsetY<input type="input" id="shY" class="input right"/></p>
            </div>

        </div>

        <div class="container">

            <h3 class="controlbar button">Canvas dimensions</h3>

            <div class="controls">
                <p>Width<input type="text" value="" id="widthBox" class="input right"/></p>

                <p>Height<input type="text" value="" id="heightBox" class="input right"/></p>
            </div>
        </div>

    </span>
    <span id="root"><canvas id="canvas" class="fitcontent"></canvas></span>
</div>
</body>
</html>
